<div>
    <navbar></navbar>
    <google-map
        height="350px"
        width="100%"
        [zoom]="zoom"
        [center]="center"
        [options]="options"
    >

    <map-marker [clickable]="true" *ngFor="let marker of markers" [position]="marker.position" ng-click="markerClick(marker.user_id)" (click)="markerClick(marker.user_id)" (mapClick)="markerClick(marker.user_id)" href="/profile/marker.user_id" [routerLink]="'/profile/marker.user_id'" [options]="marker.options"></map-marker>
    </google-map>
    <mat-toolbar color="primary" class="focus:outline-none py-8 w-full h-[10rem]">
        <mat-toolbar-row class="desktop:flex items-center justify-center">
          <span class="menu-spacer"></span>
          <div id="rowitem"  class="laptop:m-24 m-4">
            <div class="relative mt-6 mx-2">
              <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                  <svg (click)="searchPosts()" class="w-5 h-5 text-gray-400 hover:cursor-pointer hover:text-gray-800" viewBox="0 0 24 24" fill="none">
                      <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
              </span>
              <mat-icon mat-button *ngIf="filteredSearch" (click)="resetSearchFilter()" class="cancelbutton absolute inset-y-0 right-0 flex items-center mr-2 pt-4 justify-center z-index-3 hover:cursor-pointer hover:text-gray-400">cancel</mat-icon>
              <input [(ngModel)]="search" (keyup.enter)="searchPosts()" type="text" class="w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring" placeholder="Search"/>
          </div>
            <!-- <a> Name </a>
            <a> Rating </a>
            <a> Jobs </a>
            <a> First Available </a> -->
          </div>
          <div id="rowitem2" class="laptop:m-24 m-4">
            <mat-form-field class="laptop:m-24 m-4" [style.font-size]="'16px'" appearance="fill">
                <mat-label>Filter By</mat-label>
                    <mat-select [(ngModel)]="selectedValue" name="option">
                    <mat-option *ngFor="let option of filter_options" [value]="option.value">
                        {{option.viewValue}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
          </div>
        </mat-toolbar-row>
    </mat-toolbar>
    <!-- <mat-list> -->
        <!-- <mat-list-item *ngFor="let loc of locs"> -->
          <!-- <mat-list-item layout="row" *ngFor="let loc of locs" role="listitem"> -->
            <!-- <div class="custom-a"></div>
            <div class="custom-a">{{loc.user.first_name}} {{loc.user.last_name}}</div>
            <div class="custom-a">2</div>
            <div class="custom-a">3</div>
            <div class="custom-a">
                <mat-icon>message</mat-icon>
            </div> -->
                <div class="grid desktop:grid-cols-4 gap-4 laptop:grid-cols-2 tablet:grid-cols-1">
                      <div *ngFor="let loc of locs" id="outerdiv" tabindex="0" aria-label="caregiver" class="px-8 py-4 my-4 mx-4 shadow-lg shadow-[#D6DBD4] rounded h-[18rem] bg-[#D6DBD4] my-4 focus:outline-none desktop:w-2/12 desktop:mr-7 desktop:mb-0">
                          <div class="flex items-center border-b border-gray-200 pb-6">
                            <img id="stock" src="../../assets/images/profile_picture.jpeg" [routerLink]="['/profile/', loc.user.user_id]" class="shadow-sm shadow-black w-12 h-12 rounded-full hover:opacity-50 hover:cursor-pointer" />
                              <div class="flex items-start justify-between w-full">
                                  <div class="pl-3 w-full">
                                      <a id="firstlast" [routerLink]="['/profile/', loc.user.user_id]" class="font-medium leading-5 text-gray-800 focus:outline-none text-xl dark:text-white hover:text-gray-600 dark:hover:text-gray-200 hover:underline" tabindex="0">{{loc.user.first_name}} {{loc.user.last_name}}</a>
                                      <div class="prefs flex flex-row mt-2" *ngIf="loc.user?.preferences">
                                        <a id="type" *ngFor="let pref of loc.user.preferences.split(' ')" class="flex justify-end items-end mb-[2%] float-right py-1 px-3 text-sm font-bold text-white transition-colors duration-200 transform bg-[#eaaa00] rounded hover:bg-gray-500">{{pref}}</a>
                                      </div>
                                      <p class="leading-normal pt-2 text-gray-500 focus:outline-none text-sm" tabindex="0">{{ loc.user.bio }}</p>
                                  </div>
                                  <button *ngIf="userId !== loc.user.user_id" id="messagebutton" (click)="onMessageClick(loc.user.user_id)" mat-raised-button color="accent" aria-label="message" class="color-[#eaaa00] shadow-lg shadow-[#eaaa00]">
                                    <mat-icon>message</mat-icon>
                                  </button>
                              </div>
                          </div>
                          <div class="px-2">
                              <p class="focus:outline-none text-sm leading-5 py-4 text-gray-600" tabindex="0">{{ loc.user.experience }}</p>
                              <div class="flex flex-row">
                                <div class="focus:outline-none flex" id="bottomdiv" tabindex="0">
                                    <div class="py-2 text-[#eaaa00] px-4 text-xs leading-3 rounded-full bg-[#54585A] shadow-lg shadow-[#54585A]"><mat-icon>check_circle</mat-icon></div>
                                    <div class="py-2 leading-3 text-[#eaaa00] px-4 ml-3 text-xs rounded-full bg-[#54585A] shadow-lg shadow-[#54585A]"><mat-icon>local_fire_department</mat-icon></div>
                                </div>
                              </div>
                          </div>
                      </div>
          </div>
      <!-- </mat-list> -->
</div>
